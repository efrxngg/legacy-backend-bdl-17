# Define el nivel general de logging y especifica qué manejadores usar
logger.level=INFO
logger.handlers=FILE

# Configura el manejador de archivos que permite rotación por tamaño y tiempo
handler.FILE=org.jboss.logmanager.handlers.PeriodicSizeRotatingFileHandler
# Establece el nivel mínimo de mensajes que este manejador procesará
handler.FILE.level=INFO
# Especifica el formateador que dará estructura a los mensajes de log
handler.FILE.formatter=PATTERN
# Lista de propiedades configurables para este manejador
handler.FILE.properties=autoFlush,append,fileName,suffix,rotateSize,maxBackupIndex
# Propiedades requeridas al crear una nueva instancia del manejador
handler.FILE.constructorProperties=fileName,append
# Habilita la escritura inmediata al archivo sin buffering
handler.FILE.autoFlush=true
# Permite agregar nuevos logs al final del archivo existente
handler.FILE.append=true
# Ruta y nombre del archivo de log
handler.FILE.fileName=${jboss.server.log.dir}/core.log
# Formato del sufijo para los archivos rotados por fecha
handler.FILE.suffix=.yyyy-MM-dd
# Tamaño máximo del archivo antes de rotar (10MB)
handler.FILE.rotateSize=10000000
# Número máximo de archivos históricos a mantener
handler.FILE.maxBackupIndex=100000

# Configuración del formateador principal que define cómo se estructuran los mensajes
formatter.PATTERN=org.jboss.logmanager.formatters.PatternFormatter
formatter.PATTERN.properties=pattern
# Patrón que define el formato de cada línea de log incluyendo timestamp, nivel, clase, IDs de rastreo y mensaje
formatter.PATTERN.pattern=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c.%M] [trxId=%X{traceId} spxId=%X{spanId}] [%t] %s%e%n

# Formateador alternativo más simple (comentado)
#formatter.PATTERN=org.jboss.logmanager.formatters.PatternFormatter
#formatter.PATTERN.properties=pattern
#formatter.PATTERN.pattern=%d{yyyy-MM-dd HH\:mm\:ss,SSS} %-5p [%c] (%t) %s%e%n

# Formateador especial para salida en consola con colores
formatter.COLOR-PATTERN=org.jboss.logmanager.formatters.PatternFormatter
formatter.COLOR-PATTERN.properties=pattern
formatter.COLOR-PATTERN.pattern=%K{level}%d{HH\:mm\:ss,SSS} %-5p [%c] (%t) %s%e%n
